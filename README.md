# Домашняя работа №3. Строковый «калькулятор»
# Отчёт к домашней работе №3
## 1 Условие задачи
1. Условие задачи
Разработать программу-калькулятор, способную вычислять значение арифметического выражения, вводимого пользователем в виде строки. Программа должна:

+ Поддерживать бинарные операции: +, -, *, /, ^ (возведение в степень);
+ Обрабатывать унарный минус (например, -5, (-x + 1));
+ Распознавать и вычислять элементарные математические функции: sin, cos, tg, ctg, exp;
+ Поддерживать переменную x, значение которой запрашивается у пользователя при наличии в выражении;
+ Учитывать приоритет операций и корректно обрабатывать скобки;
+ Валидировать входное выражение на корректность синтаксиса;
+ Реализовывать разбор выражения с использованием алгоритма перевода в постфиксную (обратную польскую) запись и последующей её оценки.
## 2 Схема алгоритма
Программа реализует следующую последовательность шагов:

2.1. Ввод и инициализация - пользователь вводит строку с выражением.

2.2. Валидация выражения
+ Проверяется баланс скобок с использованием стека;
+ Контролируется порядок операндов и операторов — запрещены два оператора подряд (кроме унарного минуса);
+ Распознаются имена допустимых функций;
+ Фиксируется наличие переменной 'x'.
+ При ошибке валидации выбрасывается исключение std::invalid_argument.

2.3. Запрос значения переменной
Если в выражении есть x, запрашивается его числовое значение у пользователя.

2.4. Перевод в постфиксную запись (toPostfix)
Используется модифицированный алгоритм Дейкстры:
+ Числа и переменная x напрямую добавляются в выходную очередь;
+ Функции (sin, cos и т.д.) помещаются в стек операторов;
+ При встрече ( — помещается в стек;
+ При встрече ) — всё выталкивается из стека в очередь до открывающей скобки; после удаления (, если на вершине стека находится функция — она также добавляется в очередь (т.к. скобки были аргументом функции);
+ Операторы обрабатываются с учётом приоритета:
+ Для бинарных операторов: выталкиваются операторы с большим или равным приоритетом;
+ Унарный минус (- в начале или после (/оператора) кодируется как "u-".
+ 
2.5. Вычисление постфиксного выражения (evalPostfix)
Используется стек для хранения промежуточных значений:
Числа и x → кладутся в стек;
Бинарные операторы → извлекают два операнда (важен порядок: a op b);
Унарный минус ("u-") → извлекает один операнд, меняет знак;
Функции → извлекают один аргумент, применяют соответствующую математическую функцию (sin, cos, tan, 1/tan, exp);
Проверяется отсутствие деления на ноль и корректность стека в конце.
2.6. Вывод результата
Печатается постфиксная форма (для отладки понимания преобразования);
Выводится итоговое значение или сообщение об ошибке.
В ходе выполнения домашнего задания была изучена обратная польская нотация, разработана программа строкового калькулятора, обрабатывающего выражения с переменными, функциями и скобками.
